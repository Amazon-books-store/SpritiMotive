<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Books Hub | Inter â€¢ EAMCET</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter,sans-serif;background:#f4f6f8}
header{background:#1f2937;color:#fff;padding:16px;text-align:center;position:sticky;top:0}
.controls{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}
.controls button,input{padding:7px 12px;border-radius:20px;border:none;font-size:13px}
.controls button{background:#ff9900;font-weight:600;cursor:pointer}

.container{
  max-width:1100px;margin:20px auto 80px;padding:0 12px;
  display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:14px
}

.book{
  background:#fff;border-radius:10px;padding:10px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  display:flex;flex-direction:column;position:relative
}
.book img{width:100%;height:180px;object-fit:contain}
.badge{position:absolute;top:8px;left:8px;background:#22c55e;color:#fff;font-size:11px;padding:3px 7px;border-radius:10px}
.price{font-weight:700;margin:5px 0}
.stars{color:#f59e0b;font-size:13px}
.btn{
  background:#ff9900;color:#111;text-decoration:none;
  text-align:center;padding:7px;border-radius:6px;
  font-weight:700;font-size:13px
}
footer{background:#1f2937;color:#fff;text-align:center;padding:14px;font-size:13px}
</style>
</head>

<body>

<header>
<h2>ðŸ“š Student Books Hub</h2>
<p>Inter â€¢ EAMCET â€¢ Motivation</p>
<div class="controls">
<button onclick="showAll()">All</button>
<button onclick="filterExam('Inter')">Inter</button>
<button onclick="filterExam('EAMCET')">EAMCET</button>
<input placeholder="Search..." onkeyup="searchBooks(this.value)">
</div>
</header>

<div class="container" id="books">
<p>Loading booksâ€¦</p>
</div>

<footer>
<p>Amazon Associate Disclosure</p>
</footer>

<script>
document.addEventListener("DOMContentLoaded",()=>{

const SHEET_ID="1DYs0Y_1YqvOK2LM-MNiD_xVwPOX1C6Mel3xY7ALxXXc";
const URL=`https://opensheet.elk.sh/${SHEET_ID}/Sheet1`;
const container=document.getElementById("books");
let books=[];

fetch(URL)
.then(r=>{
  if(!r.ok) throw new Error("Sheet fetch failed");
  return r.json();
})
.then(data=>{
  books=data;
  render(data);
})
.catch(err=>{
  container.innerHTML="<p style='color:red'>Failed to load books. Check Google Sheet sharing.</p>";
  console.error(err);
});

function render(list){
 container.innerHTML="";
 list.forEach(b=>{
  const d=document.createElement("div");
  d.className="book";
  d.dataset.exam=b.Exam;
  d.innerHTML=`
   ${b.Badge?`<span class="badge">${b.Badge}</span>`:""}
   <img src="${b.Image}" onerror="this.src='https://via.placeholder.com/150'">
   <h4>${b.Title}</h4>
   <div class="stars">${"â˜…".repeat(Math.round(b.Rating||4))}</div>
   <div class="price">${b.Price||""}</div>
   <p style="font-size:12px">${b.Description||""}</p>
   <a class="btn" href="${b.Link}" target="_blank">Buy on Amazon</a>
  `;
  container.appendChild(d);
 });
}

window.filterExam=(ex)=>render(books.filter(b=>b.Exam===ex));
window.showAll=()=>render(books);
window.searchBooks=(q)=>render(books.filter(b=>b.Title.toLowerCase().includes(q.toLowerCase())));

});
</script>

</body>
</html>
